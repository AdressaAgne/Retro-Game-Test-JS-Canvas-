"use strict";function changeBlock(e,t,n){e.block_id=t,resetAnimation(e),"function"==typeof n&&n.bind(e)()}function changeOnUse(e,t,n,i,o){e.block_id==t&&(Engine.changeInvetoryItem(i),e.block_id=n,resetAnimation(e),"function"==typeof o&&o.bind(e)())}function removeOnUse(e,t,n){e.block_id==t&&(Engine.removeSelectedInvetoryitem(),e.block_id=n,resetAnimation(e))}function resetAnimation(e){e.animCount=0}function addItem(e,t){MapObjects[e]=t}function onAction(e,t,n){n===Engine.facing&&"function"==typeof Engine.fullMap[e][t].block_id.onAction&&(Engine.fullMap[e][t].block_id.onAction.bind(Engine.fullMap[e][t])(),Engine.fullMap[e][t].isSearched=!0)}function onUse(e,t,n){if(n===Engine.facing&&0!=Engine.invetory.length&&"undefined"!=typeof Engine.invetory[Engine.selectedInvetorySlot]&&"undefined"!=typeof MapObjects[Engine.invetory[Engine.selectedInvetorySlot].uuid].onUse){var i=Engine.invetory[Engine.selectedInvetorySlot].uuid;MapObjects[i].onUse.bind(Engine.fullMap[e][t])()}}function updatePosition(e,t,n){"function"==typeof Engine.fullMap[e][t].block_id.onWalkOver&&n?Engine.fullMap[e][t].block_id.onWalkOver.bind(Engine.fullMap[e][t])():"function"!=typeof Engine.fullMap[e][t].block_id.onSolidHit||n||Engine.fullMap[e][t].block_id.onSolidHit.bind(Engine.fullMap[e][t])()}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function rgbToHex(e,t,n){return componentToHex(e)+componentToHex(t)+componentToHex(n)}function baseName(e){var t=new String(e).substring(e.lastIndexOf("/")+1);return-1!=t.lastIndexOf(".")&&(t=t.substring(0,t.lastIndexOf("."))),t}function rng(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function animate(){if(Engine.allowRender&&requestAnimFrame(animate),Engine.ImageSmoothing(!1),Engine.outputCtx.clearRect(0,0,Engine.outputCanvas.width,Engine.outputCanvas.height),Engine.renderMenu)return pressedKeys[keyCodes.w]&&(Engine.menu.selectedButton>0?Engine.menu.selectedButton--:Engine.menu.selectedButton=Engine.menu.buttons.length-1,pressedKeys[keyCodes.w]=!1,Engine.dialogOpen=!1),pressedKeys[keyCodes.s]&&(Engine.menu.selectedButton<Engine.menu.buttons.length-1?Engine.menu.selectedButton++:Engine.menu.selectedButton=0,pressedKeys[keyCodes.s]=!1,Engine.dialogOpen=!1),pressedKeys[keyCodes.enter]&&(Engine.menu.buttons[Engine.menu.selectedButton].press(),pressedKeys[keyCodes.enter]=!1),pressedKeys[keyCodes.esc]&&(Engine.dialogOpen=!1),Engine.RenderMenu(),void(Engine.dialogOpen&&Engine.drawDialog());if(Engine.renderMapSelector)return pressedKeys[keyCodes.esc]&&(Engine.renderMenu=!0,Engine.renderMapSelector=!1),pressedKeys[keyCodes.w]&&(Engine.selectedMap>0?Engine.selectedMap--:Engine.selectedMap=Engine.selecableMaps-1,pressedKeys[keyCodes.w]=!1),pressedKeys[keyCodes.s]&&(Engine.selectedMap<Engine.selecableMaps-1?Engine.selectedMap++:Engine.selectedMap=0,pressedKeys[keyCodes.s]=!1),pressedKeys[keyCodes.enter]&&(Engine.wipeInvetory(),Engine.LoadNewMap(Engine.selectedMap),Engine.renderMenu=!1,Engine.renderMapSelector=!1,pressedKeys[keyCodes.enter]=!1),void Engine.RenderMapSelector();var e=Engine.fullMap,t=Engine.GetPlayerCords(),n=t.x,i=t.y;if(Engine.walk(keyCodes.w,1,Engine.walkingDist),Engine.walk(keyCodes.s,3,Engine.walkingDist),Engine.walk(keyCodes.a,0,Engine.walkingDist),Engine.walk(keyCodes.d,2,Engine.walkingDist),pressedKeys[keyCodes.e]){onAction(n,i-1,1),onAction(n,i+1,3),onAction(n+1,i,2),onAction(n-1,i,0),pressedKeys[keyCodes.e]=!1;var o=Engine.fullMap[n][i];"function"==typeof o.block_id.onActionOver&&o.block_id.onActionOver.bind(o)(),"function"==typeof o.block_id.onUseOver&&o.block_id.onUseOver.bind(o)(),"undefiend"!=typeof o.block_id.canPickUp&&o.block_id.canPickUp&&Engine.addToInvetory(o.block_id)&&(o.block_id=ItemsList.dirt)}pressedKeys[keyCodes.q]&&(onUse(n,i-1,1),onUse(n,i+1,3),onUse(n+1,i,2),onUse(n-1,i,0),pressedKeys[keyCodes.q]=!1),pressedKeys[keyCodes.n0]&&(Engine.selectedInvetorySlot=9);for(var s=0;10>s;s++)pressedKeys[keyCodes["n"+(s+1)]]&&(Engine.selectedInvetorySlot=s);pressedKeys[keyCodes.o]&&(Engine.debug.showPlayerBox=!Engine.debug.showPlayerBox,pressedKeys[keyCodes.o]=!1),pressedKeys[keyCodes.i]&&(Engine.debug.showPlayerCords=!Engine.debug.showPlayerCords,pressedKeys[keyCodes.i]=!1),Engine.Render();var a=(Date.now()-timeFPS)/1e3;timeFPS=Date.now(),fps=1/a,drawFPS&&Engine.drawFPS(fps),Engine.DrawToScreen(),Engine.debug.showPlayerCords&&Engine.RenderText("#ffffff","X: "+t.x+"("+Engine.player.x.toFixed(1)+"), Y:"+t.y+"("+Engine.player.y.toFixed(1)+")",1,1),Engine.RenderGUI(),pressedKeys[keyCodes.esc]&&(Engine.renderMenu=!0),pressedKeys[keyCodes.r]&&(Engine.LoadNewMap(Engine.currentMapNr),Engine.wipeInvetory())}function isInt(e){return Number(e)===e&&e%1===0}var MapObjects={};addItem("000000",{name:"wall",solid:!0,moveable:!1,alternative3D:function(){return[ItemsList.wall_edge]},type:"block",x:1,y:0}),addItem("484848",{name:"wall_edge",solid:!0,moveable:!1,type:"block",x:2,y:0}),addItem("3c3c3c",{name:"wall_below_edge",solid:!0,moveable:!1,type:"block",x:6,y:0}),addItem("776022",{name:"door",solid:!1,moveable:!1,type:"block",x:3,y:0}),addItem("ffffff",{name:"dirt",solid:!1,moveable:!1,type:"block",x:0,y:0}),addItem("00ff00",{name:"chest",solid:!1,moveable:!0,type:"item",drops:function(){return[ItemsList.bronze_coin,ItemsList.silver_coin,ItemsList.gold_coin]},x:0,y:9,onWalkOver:function(){var e=this.block_id.drops();changeBlock(this,e[rng(0,e.length-1)])}}),addItem("f2e064",{name:"finish",solid:!1,moveable:!0,type:"item",x:3,y:8,onWalkOver:function(){Engine.loadNextMap("next")}}),addItem("ff0000",{name:"player",solid:!1,moveable:!1,type:"player",facing:[[{x:0,y:8},{x:1,y:8},{x:2,y:8}],[{x:0,y:6},{x:1,y:6},{x:2,y:6}],[{x:0,y:7},{x:1,y:7},{x:2,y:7}],[{x:0,y:5},{x:1,y:5},{x:2,y:5}]]}),addItem("00a000",{name:"hedge",solid:!0,moveable:!1,alternative3D:function(){return[ItemsList.hedge_edge,ItemsList.rose_hedge_edge]},type:"block",x:1,y:1}),addItem("009100",{name:"hedge_edge",solid:!0,moveable:!1,type:"block",x:2,y:1}),addItem("d500ff",{name:"rose_hedge_edge",solid:!0,moveable:!1,type:"block",x:4,y:1}),addItem("004f00",{name:"hedge_edge_door",solid:!1,moveable:!1,type:"block",x:3,y:1}),addItem("88293b",{name:"ruby",solid:!1,moveable:!1,type:"item",x:6,y:10,onWalkOver:function(){Engine.money+=25,changeBlock(this,ItemsList.dirt)}}),addItem("f9e000",{name:"gold_coin",solid:!1,moveable:!1,type:"item",anim:[{x:3,y:10},{x:3,y:11},{x:3,y:12},{x:3,y:13},{x:3,y:12},{x:3,y:11}],onWalkOver:function(){Engine.money+=10,changeBlock(this,ItemsList.dirt)}}),addItem("e5e5e5",{name:"silver_coin",solid:!1,moveable:!1,type:"item",anim:[{x:4,y:10},{x:4,y:11},{x:4,y:12},{x:4,y:13},{x:4,y:12},{x:4,y:11}],onWalkOver:function(){Engine.money+=5,changeBlock(this,ItemsList.dirt)}}),addItem("cd6e28",{name:"bronze_coin",solid:!1,moveable:!1,type:"item",onWalkOver:function(){Engine.money++,changeBlock(this,ItemsList.dirt)},anim:[{x:5,y:10},{x:5,y:11},{x:5,y:12},{x:5,y:13},{x:5,y:12},{x:5,y:11}]}),addItem("cd3f28",{name:"fire",solid:!0,moveable:!1,type:"item",anim:[{x:0,y:15},{x:1,y:15},{x:2,y:15}],onWalkOver:function(){console.log("au")}}),addItem("d13131",{name:"hp",solid:!1,moveable:!1,type:"item",x:0,y:11,onWalkOver:function(){console.log("au")}}),addItem("bada55",{name:"water_fall",solid:!0,moveable:!1,alternative3D:function(){return[ItemsList.water_fall_end]},type:"block",anim:[{x:14,y:0},{x:14,y:1}]}),addItem("98b244",{name:"water_fall_end",solid:!0,moveable:!1,type:"block",anim:[{x:15,y:0},{x:15,y:1}],onRender:function(){Engine.fullMap[this.x][this.y+1].block_id==ItemsList.dirt&&(Engine.fullMap[this.x][this.y+1].block_id=MapObjects[667731])}}),addItem("667731",{name:"water",solid:!0,moveable:!1,type:"block",anim:[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:5,y:2}]}),addItem("ff6600",{name:"lava",solid:!0,moveable:!1,type:"block",anim:[{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:5,y:3}]}),addItem("lava_steam",{name:"lava_steam",solid:!0,moveable:!1,type:"block",anim:[{x:9,y:3},{x:10,y:3},{x:11,y:3}],onRender:function(){0==this.animCount&&changeBlock(this,ItemsList.lava)}}),addItem("steam",{name:"steam",solid:!1,moveable:!1,type:"item",anim:[{x:9,y:2},{x:10,y:2},{x:11,y:2}],onRender:function(){0==this.animCount&&changeBlock(this,ItemsList.dirt)}}),addItem("2f91a6",{name:"Bucket",solid:!1,moveable:!1,type:"item",x:3,y:6,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.water,ItemsList.dirt,ItemsList.bucket_filled_water),changeOnUse(this,ItemsList.swomp,ItemsList.dirt,ItemsList.bucket_filled_swomp),removeOnUse(this,ItemsList.lava,ItemsList.fire),changeOnUse(this,ItemsList.swomp_2,ItemsList.dirt,ItemsList.bucket_filled_swomp),changeOnUse(this,ItemsList.swomp_3,ItemsList.dirt,ItemsList.bucket_filled_swomp)}}),addItem("19454d",{name:"Bucket_Filled_Swomp",solid:!1,moveable:!1,type:"item",x:6,y:6,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.dirt,ItemsList.swomp_2,ItemsList.bucket),changeOnUse(this,ItemsList.fire,ItemsList.dirt,ItemsList.bucket),changeOnUse(this,ItemsList.lava,ItemsList.dirt,ItemsList.bucket)}}),addItem("7d9ca2",{name:"Iron_Bucket",solid:!1,moveable:!1,type:"item",x:3,y:5,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.water,ItemsList.dirt,ItemsList.iron_bucket_water),changeOnUse(this,ItemsList.lava,ItemsList.dirt,ItemsList.iron_bucket_lava),changeOnUse(this,ItemsList.swomp,ItemsList.dirt,ItemsList.iron_bucket_swomp),changeOnUse(this,ItemsList.swomp_2,ItemsList.dirt,ItemsList.iron_bucket_swomp),changeOnUse(this,ItemsList.swomp_3,ItemsList.dirt,ItemsList.iron_bucket_swomp)}}),addItem("6a868b",{name:"Iron_Bucket_Water",solid:!1,moveable:!1,type:"item",x:5,y:5,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.dirt,ItemsList.water,ItemsList.iron_bucket),changeOnUse(this,ItemsList.fire,ItemsList.steam,ItemsList.iron_bucket),changeOnUse(this,ItemsList.lava,ItemsList.lava_steam,ItemsList.iron_bucket)}}),addItem("556b6f",{name:"Iron_Bucket_Lava",solid:!1,moveable:!1,type:"item",x:4,y:5,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.dirt,ItemsList.lava,ItemsList.iron_bucket),changeOnUse(this,ItemsList.swomp,ItemsList.dirt,ItemsList.iron_bucket),changeOnUse(this,ItemsList.water,ItemsList.dirt,ItemsList.iron_bucket)}}),addItem("3e4f52",{name:"Iron_Bucket_Swomp",solid:!1,moveable:!1,type:"item",x:6,y:5,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.dirt,ItemsList.swomp_2,ItemsList.iron_bucket),changeOnUse(this,ItemsList.fire,ItemsList.steam,ItemsList.iron_bucket),changeOnUse(this,ItemsList.lava,ItemsList.dirt,ItemsList.iron_bucket)}}),addItem("256d7c",{name:"Bucket_Filled_Water",solid:!1,moveable:!1,type:"item",x:5,y:6,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.dirt,ItemsList.water,ItemsList.bucket),changeOnUse(this,ItemsList.fire,ItemsList.steam,ItemsList.bucket),changeOnUse(this,ItemsList.lava,ItemsList.lava_steam,ItemsList.bucket)}}),addItem("1e5661",{name:"Bucket Filled Lava",solid:!1,moveable:!1,type:"item",x:4,y:6,canPickUp:!0,onUse:function(){changeOnUse(this,ItemsList.water,ItemsList.dirt,ItemsList.bucket),changeOnUse(this,ItemsList.dirt,ItemsList.lava,ItemsList.bucket)}}),addItem("eddfae",{name:"Key",solid:!1,moveable:!1,type:"item",x:6,y:9,canPickUp:!0,onUse:function(){removeOnUse(this,ItemsList.door_closed,ItemsList.door_open)}}),addItem("745208",{name:"Door_Open",solid:!1,moveable:!1,type:"item",x:1,y:4}),addItem("513906",{name:"Door_Closed",solid:!0,moveable:!1,type:"item",x:0,y:4}),addItem("bb9983",{name:"lever_off",solid:!0,moveable:!1,type:"item",x:2,y:4,onAction:function(){if(changeBlock(this,ItemsList.lever_on),Engine.doors.hasPower){for(var e=0;e<Engine.doors.doors.length;e++){var t=Engine.doors.doors[e];Engine.fullMap[t.x][t.y].block_id==ItemsList.iron_door_open&&changeBlock(Engine.fullMap[t.x][t.y],ItemsList.iron_door_closed)}changeBlock(Engine.fullMap[Engine.doors.doors[Engine.doors.selectedDoor].x][Engine.doors.doors[Engine.doors.selectedDoor].y],ItemsList.iron_door_open)}}}),addItem("lever_on",{name:"lever_on",solid:!0,moveable:!1,type:"item",x:3,y:4,onAction:function(){changeBlock(this,ItemsList.lever_off);for(var e=0;e<Engine.doors.doors.length;e++){var t=Engine.doors.doors[e];Engine.fullMap[t.x][t.y].block_id==ItemsList.iron_door_open&&changeBlock(Engine.fullMap[t.x][t.y],ItemsList.iron_door_closed)}}}),addItem("panel_off",{name:"panel_off",solid:!0,moveable:!1,type:"block",x:10,y:0,onRender:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource&&(Engine.doors.hasPower=!0,changeBlock(this,ItemsList.panel_1),Engine.doors.selectedDoor=0)}}),addItem("05eb76",{name:"panel_1",solid:!0,moveable:!1,type:"block",x:11,y:0,onAction:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource&&(changeBlock(this,ItemsList.panel_2),Engine.doors.selectedDoor=1)},onRender:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource||(changeBlock(this,ItemsList.panel_off),Engine.doors.hasPower=!1)}}),addItem("panel_2",{name:"panel_2",solid:!0,moveable:!1,type:"block",x:12,y:0,onAction:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource&&(changeBlock(this,ItemsList.panel_3),Engine.doors.selectedDoor=2)},onRender:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource||(changeBlock(this,ItemsList.panel_off),Engine.doors.hasPower=!1)}}),addItem("panel_3",{name:"panel_3",solid:!0,moveable:!1,type:"block",x:13,y:0,onAction:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource&&(changeBlock(this,ItemsList.panel_1),Engine.doors.selectedDoor=0)},onRender:function(){Engine.fullMap[this.x+1][this.y].block_id.isPowerSource||(changeBlock(this,ItemsList.panel_off),Engine.doors.hasPower=!1)}}),addItem("f0ca18",{name:"battery",solid:!1,moveable:!1,type:"item",isPowerSource:!0,x:11,y:1,canPickUp:!0,onUse:function(){this.block_id==ItemsList.dirt&&(Engine.removeSelectedInvetoryitem(),changeBlock(this,ItemsList.battery))}}),addItem("2d2d2d",{name:"iron_door_closed",solid:!0,moveable:!1,type:"block",x:12,y:1}),addItem("iron_door_open",{name:"iron_door_open",solid:!1,moveable:!1,type:"block",x:13,y:1}),addItem("232e1d",{name:"Snake",drop:function(){return[ItemsList.key]},solid:!0,moveable:!1,type:"creature",anim:[{x:7,y:8},{x:7,y:8},{x:7,y:8},{x:6,y:8},{x:5,y:8},{x:6,y:8},{x:7,y:8},{x:7,y:8},{x:7,y:8}],onRenderFull:function(){"undefined"==typeof this.hp&&(this.hp=5),Engine.drawFromSprite(MapObjects.healthBar.anim[5-this.hp],this.x,this.y)}}),addItem("808080",{name:"Boulder",solid:!0,moveable:!1,type:"item",x:1,y:10,onAction:function(){var e=this.x,t=this.y,n=Engine.facing;0==n&&--e,1==n&&--t,2==n&&++e,3==n&&++t,console.log("hit"),Engine.fullMap[e][t].block_id==ItemsList.dirt&&(Engine.fullMap[e][t].block_id=this.block_id,this.block_id=ItemsList.dirt),Engine.fullMap[e][t].block_id==ItemsList.water&&(Engine.fullMap[e][t].block_id=ItemsList.dirt,this.block_id=ItemsList.dirt)}}),addItem("healthBar",{name:"Health_Bar",solid:!1,moveable:!1,type:"item",anim:[{x:5,y:7},{x:6,y:7},{x:7,y:7},{x:8,y:7},{x:9,y:7}]}),addItem("b60808",{name:"Mushroom",solid:!0,moveable:!1,type:"item",x:7,y:9,onUse:function(){Engine.removeSelectedInvetoryitem()}}),addItem("464268",{name:"Bat",solid:!0,moveable:!1,type:"creature",drop:function(){return[ItemsList.gold_coin,ItemsList.silver_coin,ItemsList.bronze_coin]},anim:[{x:8,y:8},{x:9,y:8},{x:10,y:8},{x:11,y:8},{x:12,y:8},{x:11,y:8},{x:10,y:8},{x:9,y:8}],onRender:function(){0==this.animCount&&Engine.moveRngBlock(this)},onRenderFull:function(){"undefined"==typeof this.hp&&(this.hp=5),Engine.drawFromSprite(MapObjects.healthBar.anim[5-this.hp],this.x,this.y)}}),addItem("a048dd",{name:"Dagger",solid:!1,moveable:!1,type:"item",x:3,y:9,canPickUp:!0,onUse:function(){if("creature"==this.block_id.type&&(this.hp--,this.hp<=0)){var e=this.block_id.drop();changeBlock(this,e[rng(0,e.length-1)]),resetAnimation(this.block_id)}this.block_id==ItemsList.mushroom&&Engine.addToInvetory(this.block_id)&&(this.block_id=ItemsList.dirt)}}),addItem("7d5112",{name:"swomp",solid:!1,moveable:!1,type:"block",alternative:function(){return[ItemsList.swomp_2,ItemsList.swomp_3]},anim:[{x:6,y:2},{x:7,y:2},{x:8,y:2},{x:7,y:2}]}),addItem("swomp2",{name:"swomp_2",solid:!1,moveable:!1,type:"block",anim:[{x:6,y:3},{x:7,y:3},{x:8,y:3},{x:7,y:3}]}),addItem("swomp",{name:"swomp_3",solid:!1,moveable:!1,type:"block",anim:[{x:6,y:4},{x:7,y:4},{x:8,y:4},{x:7,y:4}]}),addItem("test",{name:"test",solid:!1,moveable:!1,type:"block",x:11,y:15}),addItem("ecc40b",{name:"touch",solid:!1,moveable:!1,type:"item",canPickUp:!0,anim:[{x:7,y:10},{x:7,y:11},{x:7,y:12}],onUse:function(){changeOnUse(this,ItemsList.tnt,ItemsList.tnt_prime,ItemsList.touch)}}),addItem("boom",{name:"explotion",solid:!1,moveable:!1,type:"item",anim:[{x:9,y:4},{x:10,y:4},{x:11,y:4}],onRender:function(){0==this.animCount&&(this.block_id=ItemsList.dirt)}}),addItem("tnt_boom",{name:"tnt_explotion",solid:!1,moveable:!1,type:"item",anim:[{x:9,y:4},{x:10,y:4},{x:11,y:4}],onRender:function(){0==this.animCount&&(this.block_id=ItemsList.dirt);for(var e=[ItemsList.hedge,ItemsList.hedge_edge,ItemsList.rose_hedge_edge],t=0;t<e.length;t++)item=e[t],Engine.fullMap[this.x+1][this.y].block_id==item&&changeBlock(Engine.fullMap[this.x+1][this.y],ItemsList.dirt),Engine.fullMap[this.x-1][this.y].block_id==item&&changeBlock(Engine.fullMap[this.x-1][this.y],ItemsList.dirt),Engine.fullMap[this.x][this.y+1].block_id==item&&changeBlock(Engine.fullMap[this.x][this.y+1],ItemsList.dirt),Engine.fullMap[this.x][this.y-1].block_id==item&&changeBlock(Engine.fullMap[this.x][this.y-1],ItemsList.dirt)}}),addItem("3c3e3f",{name:"belt_right",solid:!1,moveable:!1,type:"item",anim:[{x:10,y:15},{x:9,y:15},{x:8,y:15}],onRender:function(){this.x==Engine.GetPlayerCords().x&&this.y==Engine.GetPlayerCords().y&&Engine.walkDir(2,Engine.walkingDist)}}),addItem("2b3033",{name:"belt_left",solid:!1,moveable:!1,type:"item",anim:[{x:8,y:15},{x:9,y:15},{x:10,y:15}],onRender:function(){this.x==Engine.GetPlayerCords().x&&this.y==Engine.GetPlayerCords().y&&Engine.walkDir(0,Engine.walkingDist)}}),addItem("a3250c",{name:"tnt",solid:!1,moveable:!1,type:"item",canPickUp:!0,x:15,y:12,onUse:function(){removeOnUse(this,ItemsList.dirt,ItemsList.tnt)}}),addItem("tnt_prime",{name:"tnt_prime",solid:!1,moveable:!1,type:"item",anim:[{x:15,y:11},{x:14,y:11},{x:13,y:11},{x:12,y:11}],onRender:function(){0==this.animCount&&changeBlock(this,ItemsList.tnt_explotion)}}),addItem("d0cbbe",{name:"collector_stage_1",solid:!0,moveable:!1,type:"item",x:11,y:14}),addItem("collector_stage_2",{name:"collector_stage_2",solid:!0,moveable:!1,type:"item",x:12,y:14}),addItem("collector_stage_3",{name:"collector_stage_3",solid:!0,moveable:!1,type:"item",x:13,y:14}),addItem("collector_stage_4",{name:"collector_stage_4",solid:!0,moveable:!1,type:"item",x:14,y:14}),addItem("collector_stage_5",{name:"collector_stage_5",solid:!0,moveable:!1,type:"item",anim:[{x:11,y:13},{x:12,y:13},{x:13,y:13},{x:14,y:13},{x:15,y:13},{x:14,y:13},{x:13,y:13},{x:12,y:13}]}),addItem("f5c009",{name:"gold_box",solid:!1,moveable:!1,type:"item",canPickUp:!0,x:0,y:12,onUse:function(){removeOnUse(this,ItemsList.dirt,ItemsList.gold_box),removeOnUse(this,ItemsList.collector_stage_4,ItemsList.collector_stage_5),removeOnUse(this,ItemsList.collector_stage_3,ItemsList.collector_stage_4),removeOnUse(this,ItemsList.collector_stage_2,ItemsList.collector_stage_3),removeOnUse(this,ItemsList.collector_stage_1,ItemsList.collector_stage_2)}}),addItem("70674d",{name:"sand",solid:!1,moveable:!1,type:"block",anim:[{x:13,y:2},{x:14,y:2},{x:15,y:2},{x:14,y:2}]}),addItem("boomerang_prime",{name:"boomerang_prime",solid:!0,moveable:!1,type:"item",anim:[{x:13,y:3},{x:13,y:4},{x:12,y:4},{x:12,y:3}],onRender:function(){setTimeout(function(){var e=this.x,t=this.y;if(0==this.dir&&--e,1==this.dir&&--t,2==this.dir&&++e,3==this.dir&&++t,Engine.fullMap[e][t].block_id==ItemsList.dirt)Engine.fullMap[e][t].block_id=ItemsList.boomerang_prime,Engine.fullMap[e][t].animCount=this.animCount,Engine.fullMap[e][t].dir=this.dir,Engine.fullMap[e][t].l=this.l,Engine.fullMap[e][t].l++,this.l>2&&(0==Engine.fullMap[e][t].dir?Engine.fullMap[e][t].dir=2:1==Engine.fullMap[e][t].dir?Engine.fullMap[e][t].dir=3:2==Engine.fullMap[e][t].dir?Engine.fullMap[e][t].dir=0:3==Engine.fullMap[e][t].dir&&(Engine.fullMap[e][t].dir=1),Engine.fullMap[e][t].l=0),changeBlock(this,ItemsList.dirt),e==Engine.GetPlayerCords().x&&t==Engine.GetPlayerCords().y&&(changeBlock(Engine.fullMap[e][t],ItemsList.dirt),Engine.addToInvetory(ItemsList.boomerang));else{if("creature"==Engine.fullMap[e][t].block_id.type&&(Engine.fullMap[e][t].hp--,Engine.fullMap[e][t].hp<=0)){var n=Engine.fullMap[e][t].block_id.drop();changeBlock(Engine.fullMap[e][t],n[rng(0,n.length-1)]),resetAnimation(Engine.fullMap[e][t].block_id)}changeBlock(this,ItemsList.boomerang)}delete this.dir,delete this.l}.bind(this),0)}}),addItem("825c2c",{name:"boomerang",solid:!1,moveable:!1,type:"item",canPickUp:!0,x:13,y:3,onUse:function(){"undefined"==typeof this.dir&&(this.dir=Engine.facing),"undefined"==typeof this.l&&(this.l=1),removeOnUse(this,ItemsList.dirt,ItemsList.boomerang_prime)}}),addItem("9d5353",{name:"tp_red",solid:!1,moveable:!1,type:"item",renderAbow:!0,x:8,y:5,onActionOver:function(){Engine.player.x=Engine.teleporters.blue.x,Engine.player.y=Engine.teleporters.blue.y}}),addItem("53799d",{name:"tp_blue",solid:!1,moveable:!1,type:"item",renderAbow:!0,x:7,y:5,onActionOver:function(){Engine.player.x=Engine.teleporters.red.x,Engine.player.y=Engine.teleporters.red.y}}),addItem("error",{name:"error",solid:!1,moveable:!1,type:"item",x:6,y:15});var texture={sprite:"img/texture/textures.png",gui:"img/texture/gui.png",menu:"img/texture/background.png",testMap:"img/maps/test.gif",map_1:"img/maps/campaign/map_1.gif",map_2:"img/maps/campaign/map_2.gif",map_3:"img/maps/campaign/map_3.gif",map_4:"img/maps/campaign/map_4.gif",tutorial_tp:"img/maps/tutorial/teleporter.gif",tutorial_bat:"img/maps/tutorial/bat.gif",tutorial_panel:"img/maps/tutorial/panel.gif",tutorial_tnt:"img/maps/tutorial/tnt.gif",tutorial_boomerang:"img/maps/tutorial/boomerang.gif"},keyCodes={w:87,s:83,a:65,d:68,e:69,q:81,i:73,o:79,r:82,n0:48,n1:49,n2:50,n3:51,n4:52,n5:53,n6:54,n7:55,n8:56,n9:57,esc:27,enter:13,space:32,ArrowDown:40,ArrowRight:39,ArrowUp:38,ArrowLeft:37},pressedKeys={};document.addEventListener("keydown",function(e){pressedKeys[e.keyCode]=!0}),document.addEventListener("keyup",function(e){pressedKeys[e.keyCode]=!1});var timeFPS,fps,drawFPS=!0;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}();var Engine={canvas:null,ctx:null,outputCanvas:document.getElementById("game"),outputCtx:null,allowRender:!0,CurrentMap:null,currentMapNr:0,fullMap:{},startMap:0,fog:10,facing:3,count:0,animCount:{},maxCount:8,debug:{showPlayerBox:!1,showPlayerCords:!1},invetory:[],money:0,selectedInvetorySlot:0,player:{animCount:0,x:0,y:0,isWalking:!1},walkingDist:.1,doors:{selectedDoor:0,doors:[],hasPower:!1},teleporters:{blue:{x:null,y:null},red:{c:null,y:null}},gui:{height:192,width:0},Items:{},dialogOpen:!1,dialogTitle:"",dialogText:"",renderMapSelector:!1,selectedMap:0,selecableMaps:0,renderMenu:!0,menu:{selectedButton:0,buttons:[{text:"Play/Continue Game",press:function(){Engine.renderMenu=!1}},{text:"How To Play",press:function(){Engine.RenderDialog("How to play","w : Up\na : Left\ns : Down\nd : Right\ne : Pick up item / Do action on block\nr : Restart Map\nq : Use selected inventory item\n0-9 : Inventory Select\nesc : Back To Menu")}},{text:"Map Selctor",press:function(){Engine.renderMapSelector=!0,Engine.renderMenu=!1}},{text:"Tutorial",press:function(){Engine.LoadNewMap(5),Engine.renderMenu=!1}},{text:"Credits",press:function(){Engine.RenderDialog("Credits","Code :\nAgne Ødegaard\nArt :\nAgne Ødegaard\nKjetil Flå Gjersvold")}}]},Render:function(e){Engine.ctx.clearRect(0,0,64*this.CurrentMap.width,64*this.CurrentMap.height);var t=[];for(var n in this.fullMap)if(this.fullMap.hasOwnProperty(n))for(var i in this.fullMap[n])if(this.fullMap[n].hasOwnProperty(i)){var o=this.fullMap[n][i];"undefined"==typeof o.block_id&&(console.error("Could not render block :",o),this.allowRender=!1),"player"!=o.block_id.type&&"item"!=o.block_id.type&&"creature"!=o.block_id.type||this.drawFromSprite(ItemsList.dirt,o.x,o.y),o.block_id.renderAbow?t.push(o):(this.renderBlock(o),"function"==typeof o.block_id.onRender&&0==this.count&&o.block_id.onRender.bind(o)(),"function"==typeof o.block_id.onRenderFull&&o.block_id.onRenderFull.bind(o)())}this.RenderPlayer(o);for(var o in t)this.renderBlock(t[o]);this.RenderFog(),this.count=this.count>=this.maxCount?0:this.count+1},renderBlock:function(e){"undefined"!=typeof e.block_id.anim?("undefined"==typeof e.animCount&&(e.animCount=rng(0,e.block_id.anim.length-1)),this.drawFromAnimSprite(e.block_id.anim[e.animCount],e.x,e.y),0==this.count&&(++e.animCount,e.animCount>=e.block_id.anim.length&&(e.animCount=0))):this.drawFromSprite(e.block_id,e.x,e.y)},renderBlockGui:function(e,t,n){"undefined"!=typeof e.anim?("undefined"==typeof this.animCount[e.name]&&(this.animCount[e.name]=rng(0,e.anim.length-1)),this.drawFromAnimSpriteGui(e.anim[this.animCount[e.name]],t,n),0==this.count&&(++this.animCount[e.name],this.animCount[e.name]>=e.anim.length&&(this.animCount[e.name]=0))):this.drawFromAnimSpriteGui(e,t,n)},ImageSmoothing:function(e){this.ctx.mozImageSmoothingEnabled=e,this.ctx.webkitImageSmoothingEnabled=e,this.ctx.msImageSmoothingEnabled=e,this.ctx.imageSmoothingEnabled=e,this.outputCtx.mozImageSmoothingEnabled=e,this.outputCtx.webkitImageSmoothingEnabled=e,this.outputCtx.msImageSmoothingEnabled=e,this.outputCtx.imageSmoothingEnabled=e},Open:function(e,t){this.allowRender=!1;var n=document.createElement("canvas"),i=n.getContext("2d");n.width=e.width,n.height=e.height,this.canvas.width=64*e.width,this.canvas.height=64*e.height,this.outputCanvas.height=this.canvas.height+this.gui.height,this.outputCanvas.width=this.canvas.width+this.gui.width,i.drawImage(e,0,0),this.doors.doors=[];for(var o={width:e.width,height:e.height},s=0;s<e.width;s++){this.fullMap[s]={};for(var a=0;a<e.height;a++){var r=i.getImageData(s,a,1,1).data,l=rgbToHex(r[0],r[1],r[2]),d="undefined"!=typeof MapObjects[l]?MapObjects[l]:MapObjects.error,m={x:s,y:a,block_id:d,color:l};if("ff0000"==l){this.player.x=s,this.player.y=a;var m={x:s,y:a,block_id:MapObjects.ffffff,color:l}}this.fullMap[s][a]=m}}for(var s=0;s<e.width;s++)for(var a=0;a<e.height;a++){var c=this.fullMap[s][a];if("undefined"!=typeof c.block_id.alternative3D&&"undefined"!=typeof this.fullMap[s][a+1]&&(0!=this.fullMap[s][a+1].block_id.solid&&"water"!=this.fullMap[s][a+1].block_id.name&&"item"!=this.fullMap[s][a+1].block_id.type&&"lava"!=this.fullMap[s][a+1].block_id.name||(this.fullMap[s][a].block_id=c.block_id.alternative3D()[rng(0,c.block_id.alternative3D().length-1)])),"undefined"!=typeof c.block_id.alternative){var u=c.block_id.alternative();u.push(c.block_id),c.block_id=u[rng(0,u.length-1)]}c.block_id==ItemsList.iron_door_closed&&this.doors.doors.push(c),c.block_id==ItemsList.tp_red&&(this.teleporters.red.x=c.x,this.teleporters.red.y=c.y),c.block_id==ItemsList.tp_blue&&(this.teleporters.blue.x=c.x,this.teleporters.blue.y=c.y)}return this.allowRender=!0,o},DrawToScreen:function(){this.ImageSmoothing(!1),this.outputCtx.fillStyle="black",this.outputCtx.fillRect(0,0,this.outputCanvas.width,this.outputCanvas.height);var e=this.canvas.width,t=this.canvas.height,n=64,i=(this.fog-1)*n,o=2,s=this.player.x*n-i+32,a=this.player.y*n-i+32,r=4*i+32,l=4*i+32;0>=s&&(s=0),0>=a&&(a=0),s>=e-2*i-16&&(s=e-2*i-16),a>=t-2*i-16&&(a=t-2*i-16);var d=0,m=0;this.outputCtx.drawImage(this.canvas,s,a,r,l,d,m,e*o,t*o)},init:function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.outputCtx=this.outputCanvas.getContext("2d"),this.canvas.width=1024,this.canvas.height=1024,this.outputCanvas.width=this.canvas.width+256,this.outputCanvas.height=this.canvas.height+256,this.drawLoading("Loading... 0%");var e=Object.keys(texture).length,t=0;for(var n in texture)if(texture.hasOwnProperty(n)){var i=texture[n];texture[n]=new Image,texture[n].src=i,texture[n].onload=function(n){if(t++,this.drawLoading("Loading... "+parseInt(t/e*100)+"% ("+n+")"),t===e){this.fog=Maps[this.startMap].fog,this.CurrentMap=this.Open(Maps[this.startMap].file,Maps[this.startMap].fog);for(var i in Maps)Maps[i].showOnSelector&&this.selecableMaps++;this.startGame()}}.bind(this)}},startGame:function(){animate()}};Engine.RenderFog=function(){},Engine.RenderGUI=function(){var e=96,t=1040,n=this.selectedInvetorySlot;this.drawDialogFrame(1,15,13,2);var i=ItemsList.bronze_coin;this.money>=25&&(i=ItemsList.silver_coin),this.money>=100&&(i=ItemsList.gold_coin),this.renderBlockGui(i,1.5,15.2),this.RenderText("#f8f8f8",this.money,2.5,15.85);for(var o=10,s=0;o>s;s++)this.outputCtx.drawImage(texture.gui,0,48,21,21,e+21*s*4+-2*s,t+4,94,84);this.outputCtx.drawImage(texture.gui,21,48,23,23,e+92*n+-9.5*n,t,92,92);for(var s=0;s<this.invetory.length;s++)this.renderBlockGui(this.invetory[s],1.7+1.285*s,16.45)},Engine.RenderPlayer=function(){var e=this.GetPlayerCords();this.debug.showPlayerBox&&this.drawFromSprite(ItemsList.test,e.x,e.y),this.drawPlayer(this.player.x,this.player.y)},Engine.RenderStill=function(e){return"undefined"!=typeof MapObjects[e].anim[0]?MapObjects[e].anim[0]:MapObjects[e]},Engine.RenderText=function(e,t,n,i){this.outputCtx.fillStyle=e,this.outputCtx.font="34px Verdana",this.outputCtx.fillText(t,64*n,64*i)},Engine.RenderTextPixels=function(e,t,n,i){this.outputCtx.fillStyle=e,this.outputCtx.font="34px Verdana",this.outputCtx.fillText(t,n,i)},Engine.RenderRect=function(e,t,n,i,o){this.outputCtx.fillStyle=e,this.outputCtx.fillRect(t,n,i,o)},Engine.RenderMenu=function(){this.RenderMenuBackgroud();for(var e=0;e<this.menu.buttons.length;e++)this.drawMenuButton(530+24*e*4,e==this.menu.selectedButton,this.menu.buttons[e].text)},Engine.RenderMenuBackgroud=function(){this.drawFromTexture(texture.menu,0,0,16,19,0,0,64),this.drawFromTexture(texture.gui,0,8,16,16,0,0,64)},Engine.RenderMapSelector=function(){this.RenderMenuBackgroud(),this.dialogText="",this.dialogTitle="Map Selector",this.drawDialog(8,Maps.length+.5);for(var e=190,t=600,n=0,i=0,o=270,s=0;s<Maps.length;s++)Maps[s].showOnSelector&&(8==i&&(n++,i=0),this.outputCtx.drawImage(Maps[s].file,0,0,16,16,e+n*o,t+68*i,64,64),this.selectedMap==s?this.RenderTextPixels("#fbdb00",Maps[s].name,e+n*o+80,t+68*i+48):this.RenderTextPixels("#f8f8f8",Maps[s].name,e+n*o+80,t+68*i+48),i++)},Engine.RenderDialog=function(e,t){this.dialogText=t,this.dialogTitle=e,this.dialogOpen=!this.dialogOpen},Engine.drawDialogFrame=function(e,t,n,i){this.drawFromTexture(texture.gui,0,5,1,1,e,t,64),this.drawFromTexture(texture.gui,0,7,1,1,e,t+i,64),this.drawFromTexture(texture.gui,2,5,1,1,e+n,t,64),this.drawFromTexture(texture.gui,2,7,1,1,e+n,t+i,64);for(var o=1;n>o;o++)for(var s=1;i>s;s++)this.drawFromTexture(texture.gui,1,6,1,1,e+o,t+s,64);for(var o=1;i>o;o++)this.drawFromTexture(texture.gui,0,6,1,1,e,t+o,64),this.drawFromTexture(texture.gui,2,6,1,1,e+n,t+o,64);for(var o=1;n>o;o++)this.drawFromTexture(texture.gui,1,5,1,1,e+o,t,64),this.drawFromTexture(texture.gui,1,7,1,1,e+o,t+i,64)},Engine.drawDialog=function(e,t){var n=Engine.dialogText.split("\n");if("undefined"==typeof e)var e=4;if("undefined"==typeof t)var t=1+n.length;var i=2.5,o=10;this.drawDialogFrame(i,e,o,t),this.RenderText("#f8f8f8",Engine.dialogTitle,i+.5,e+1);for(var s=0;s<n.length;s++)this.RenderText("#f8f8f8",n[s],i+.5,e+2+s)},Engine.drawFPS=function(){this.RenderText("#f8f8f8",parseInt(fps),25,50)},Engine.drawLoading=function(e){this.outputCtx.clearRect(0,0,1024,1024),this.RenderText("#f8f8f8",e,25,50),console.info(e)},Engine.drawMenuButton=function(e,t,n){var i=194,o=23,s=1==t?71:48,a=256-i,r=(256-i)/2*4;this.outputCtx.drawImage(texture.gui,a,s,i,o,r,e,4*i,4*o),this.RenderTextPixels("#f8f8f8",n,r+i/2,e+2.5*o)},Engine.drawDeathScrenn=function(){},
Engine.drawPlayer=function(e,t){var n=MapObjects.ff0000;"undefined"==typeof this.player.animCount&&(this.player.animCount=0),this.player.animCount>=n.facing[this.facing].length&&(this.player.animCount=0),this.player.isWalking?this.ctx.drawImage(texture.sprite,16*n.facing[this.facing][this.player.animCount].x,16*n.facing[this.facing][this.player.animCount].y,16,16,64*e,64*t,64,64):this.ctx.drawImage(texture.sprite,16*n.facing[this.facing][this.player.animCount].x,16*n.facing[this.facing][this.player.animCount].y,16,16,64*e,64*t,64,64),0==this.count&&this.player.animCount++},Engine.drawFromSprite=function(e,t,n){this.ctx.drawImage(texture.sprite,16*e.x,16*e.y,16,16,64*t,64*n,64,64)},Engine.drawFromTexture=function(e,t,n,i,o,s,a,r){this.outputCtx.drawImage(e,16*t,16*n,16*i,16*o,64*s,64*a,i*r,o*r)},Engine.drawFromAnimSprite=function(e,t,n){"undefined"!=typeof e&&this.ctx.drawImage(texture.sprite,16*e.x,16*e.y,16,16,64*t,64*n,64,64)},Engine.drawFromAnimSpriteGui=function(e,t,n){"undefined"!=typeof e&&this.outputCtx.drawImage(texture.sprite,16*e.x,16*e.y,16,16,64*t,64*n,64,64)},Engine.moveRngBlock=function(e){this.moveBlockDirection(e,rng(0,3))},Engine.moveBlockDirection=function(e,t){var n=e.x,i=e.y;0==t&&--n,1==t&&--i,2==t&&++n,3==t&&++i;var o=this.fullMap[n][i];o.block_id.solid||"undefined"!=typeof o.block_id&&o.block_id===MapObjects.ffffff&&this.switchBlock(e,o)},Engine.switchBlock=function(e,t){},Engine.loadNextMap=function(){return this.wipeInvetory(),"menu"==this.currentMapNr?(this.renderMenu=!0,null):(this.fog=Maps[this.currentMapNr].fog,void this.LoadNewMap(Maps[this.currentMapNr].next))},Engine.wipeInvetory=function(){this.invetory=[]},Engine.MapGoLevelDown=function(){return Maps[this.currentMapNr].levels.length>=0?!1:void this.LoadNewMap(Maps[this.currentMapNr].levels[Maps[this.currentMapNr].currentLevel-1])},Engine.MapGoLevelUp=function(){return Maps[this.currentMapNr].levels.length<=0?!1:void this.LoadNewMap(Maps[this.currentMapNr].levels[Maps[this.currentMapNr].currentLevel+1])},Engine.LoadNewMap=function(e){this.currentMapNr=e,this.CurrentMap=this.Open(Maps[e].file)},Engine.walk=function(e,t,n){return pressedKeys[e]?this.facing!==t?void(this.facing=t):void this.walkDir(t,n):void 0},Engine.walkDir=function(e,t){var n=this.GetPlayerCords(),i=Number(this.player.x),o=Number(this.player.y),s=!0;0==e&&(--n.x,i-=t),1==e&&(--n.y,o-=t),2==e&&(++n.x,i+=t),3==e&&(n.y=Math.floor(n.y),++n.y,o+=t),this.fullMap[n.x][n.y].block_id.solid&&(s=!1);var a=2*t;!s&&n.y-1>o&&3==e&&(s=!0),!s&&n.y+.7<o+a&&1==e&&(s=!0),!s&&n.x-.5>i+a&&2==e&&(s=!0),!s&&n.x+.5<i-a&&0==e&&(s=!0),s&&(0!=e&&2!=e||(this.player.x=i),1!=e&&3!=e||(this.player.y=o),this.player.isWalking=!0,updatePosition(this.GetPlayerCords().x,this.GetPlayerCords().y,!0)),this.player.isWalking=!1,updatePosition(this.GetPlayerCords().x,this.GetPlayerCords().y,!0)},Engine.GetPlayerCords=function(){var e=Math.round(this.player.x),t=Math.ceil(this.player.y);return{x:e,y:t}},Engine.GetPlayerCordsFloor=function(){var e=Math.floor(this.player.x),t=Math.floor(this.player.y);return{x:e,y:t}},Engine.GetPlayerCordsCeil=function(){var e=Math.ceil(this.player.x),t=Math.ceil(this.player.y);return{x:e,y:t}},Engine.addToInvetory=function(e){return this.invetory.length>=10?!1:(this.invetory.push(e),!0)},Engine.changeInvetoryItem=function(e){return"undefined"==typeof this.invetory[this.selectedInvetorySlot]?!1:(this.invetory[this.selectedInvetorySlot]=e,!0)},Engine.removeSelectedInvetoryitem=function(){this.invetory.splice(this.selectedInvetorySlot,1)},Engine.init();var Maps=[{name:"map_test",file:texture.testMap,next:1,fog:5,startLevel:0,currentLevel:0,levels:[texture.map1,texture.map2],showOnSelector:!0},{name:"map_1",file:texture.map_1,next:2,fog:5,showOnSelector:!0},{name:"map_2",file:texture.map_2,next:3,fog:5,showOnSelector:!0},{name:"map_3",file:texture.map_3,next:4,fog:5,showOnSelector:!0},{name:"map_4",file:texture.map_4,next:"menu",fog:5,showOnSelector:!0},{name:"t_boomerang",file:texture.tutorial_boomerang,next:6,fog:5},{name:"t_snake",file:texture.tutorial_bat,next:7,fog:5},{name:"t_Panels",file:texture.tutorial_panel,next:8,fog:5},{name:"t_TNT",file:texture.tutorial_tnt,next:9,fog:5},{name:"t_tp",file:texture.tutorial_tp,next:"menu",fog:5}],ItemsList={};for(var item in MapObjects)if(MapObjects.hasOwnProperty(item)){var id=MapObjects[item].name.toLowerCase();ItemsList[id]=MapObjects[item],ItemsList[id].uuid=item}
//# sourceMappingURL=./main-min.js.map